---
title: "p8105_hw2_ml4420"
author: Mengjia Lyu
date: 2019-9-26
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
```

## Problem 1



```{r}


trash_data = read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", sheet = "Mr. Trash Wheel", range = cell_cols("A:N"), 
                        col_names = TRUE, skip = 1) %>%
                        janitor::clean_names() %>%
                        na.omit()
# omit rows that do not include dumpster-specific data


# round the number of sports balls to the nearest integer
trash_data$sports_balls = as.integer(round(trash_data$sports_balls))

```

```{r}

# read and clean precipitation data for 2017 and 2018
precip_data_2017 = read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", sheet = "2017 Precipitation", col_names = TRUE, skip = 1) %>%
                              janitor::clean_names() %>%
                              na.omit() %>%
                              mutate(year = 2017)
 
precip_data_2018 = read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", sheet = "2018 Precipitation", col_names = TRUE, skip = 1) %>%
                              janitor::clean_names() %>%
                              na.omit() %>%
                              mutate(year = 2018)

# combine the two datasets
precip_data = full_join(precip_data_2017, precip_data_2018, by = NULL) %>%
                        mutate(month = month.name[month])
```

## Comments
The number of observations in the Mr. Trash Wheel dataset is `r nrow(trash_data)`. The number of observations in the precipitation dataset is `r nrow(precip_data)`. Key variables in the Mr. Trash Wheel dataset include `r names(trash_data)`. Key variables in the precipitation dataset include `r names(precip_data)`. Total precipitation in 2018 is `r sum(precip_data_2018$total)`. The median number of sports balls in a dumpster in 2017 is `r median(pull(filter(trash_data, trash_data$year == 2017), sports_balls))`.


## Problem 2
```{r problem 2}
pols_month_data = read_csv("./data/fivethirtyeight_datasets/pols-month.csv", ) %>%
                  janitor::clean_names() %>%
                  separate(mon, into = c("year", "month", "day"), sep = "-", convert = TRUE) %>%    #break up mon into integer variables
                  mutate(month = month.name[month]) %>%                                             #replace month number with month name
                  mutate(president = ifelse(prez_dem == 0, "gop", "dem")) %>%                       #create new variable president
                  select(-prez_dem) %>%                                                             #remove prez_dem, prez_gop, day
                  select(-prez_gop) %>%
                  select(-day)

```


